{"version":3,"file":"test-utils.js","sources":["shallowEqual.js","queryRecycler.js","QueryRecyclerProvider.js","ApolloProvider.js","test-links.js","test-utils.js"],"sourcesContent":["export default function shallowEqual(objA, objB) {\n    if (!objA || !objB)\n        return false;\n    if (objA === objB)\n        return true;\n    var keysA = Object.keys(objA);\n    var keysB = Object.keys(objB);\n    if (keysA.length !== keysB.length)\n        return false;\n    var hasOwn = Object.prototype.hasOwnProperty;\n    for (var i = 0; i < keysA.length; i++) {\n        if (!hasOwn.call(objB, keysA[i]) || objA[keysA[i]] !== objB[keysA[i]]) {\n            return false;\n        }\n    }\n    return true;\n}\n//# sourceMappingURL=shallowEqual.js.map","var __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport shallowEqual from './shallowEqual';\nvar ObservableQueryRecycler = (function () {\n    function ObservableQueryRecycler() {\n        this.observableQueries = [];\n    }\n    ObservableQueryRecycler.prototype.recycle = function (observableQuery) {\n        observableQuery.setOptions({\n            fetchPolicy: 'standby',\n            pollInterval: 0,\n            fetchResults: false,\n        });\n        this.observableQueries.push({\n            observableQuery: observableQuery,\n            subscription: observableQuery.subscribe({}),\n        });\n    };\n    ObservableQueryRecycler.prototype.reuse = function (options) {\n        if (this.observableQueries.length <= 0) {\n            return null;\n        }\n        var _a = this.observableQueries.pop(), observableQuery = _a.observableQuery, subscription = _a.subscription;\n        subscription.unsubscribe();\n        var ssr = options.ssr, skip = options.skip, client = options.client, modifiableOpts = __rest(options, [\"ssr\", \"skip\", \"client\"]);\n        if (!shallowEqual(modifiableOpts.variables || {}, observableQuery.variables))\n            return null;\n        observableQuery.setOptions(__assign({}, modifiableOpts, { pollInterval: options.pollInterval, fetchPolicy: options.fetchPolicy }));\n        return observableQuery;\n    };\n    return ObservableQueryRecycler;\n}());\nexport { ObservableQueryRecycler };\n//# sourceMappingURL=queryRecycler.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Component, Children } from 'react';\nimport * as PropTypes from 'prop-types';\nimport { ObservableQueryRecycler } from './queryRecycler';\nvar QueryRecyclerProvider = (function (_super) {\n    __extends(QueryRecyclerProvider, _super);\n    function QueryRecyclerProvider(props) {\n        var _this = _super.call(this, props) || this;\n        _this.recyclers = new WeakMap();\n        _this.getQueryRecycler = _this.getQueryRecycler.bind(_this);\n        return _this;\n    }\n    QueryRecyclerProvider.prototype.componentWillReceiveProps = function (_, nextContext) {\n        if (this.context.client !== nextContext.client) {\n            this.recyclers = new WeakMap();\n        }\n    };\n    QueryRecyclerProvider.prototype.getQueryRecycler = function (component) {\n        if (!this.recyclers.has(component)) {\n            this.recyclers.set(component, new ObservableQueryRecycler());\n        }\n        return this.recyclers.get(component);\n    };\n    QueryRecyclerProvider.prototype.getChildContext = function () {\n        return {\n            getQueryRecycler: this.getQueryRecycler,\n        };\n    };\n    QueryRecyclerProvider.prototype.render = function () {\n        return Children.only(this.props.children);\n    };\n    QueryRecyclerProvider.propTypes = {\n        children: PropTypes.element.isRequired,\n    };\n    QueryRecyclerProvider.contextTypes = {\n        client: PropTypes.object,\n    };\n    QueryRecyclerProvider.childContextTypes = {\n        getQueryRecycler: PropTypes.func.isRequired,\n    };\n    return QueryRecyclerProvider;\n}(Component));\nexport default QueryRecyclerProvider;\n//# sourceMappingURL=QueryRecyclerProvider.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Component } from 'react';\nimport QueryRecyclerProvider from './QueryRecyclerProvider';\nvar invariant = require('invariant');\nvar ApolloProvider = (function (_super) {\n    __extends(ApolloProvider, _super);\n    function ApolloProvider(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        invariant(props.client, 'ApolloClient was not passed a client instance. Make ' +\n            'sure you pass in your client via the \"client\" prop.');\n        return _this;\n    }\n    ApolloProvider.prototype.getChildContext = function () {\n        return {\n            client: this.props.client,\n        };\n    };\n    ApolloProvider.prototype.render = function () {\n        return (React.createElement(QueryRecyclerProvider, null, React.Children.only(this.props.children)));\n    };\n    ApolloProvider.propTypes = {\n        client: PropTypes.object.isRequired,\n        children: PropTypes.element.isRequired,\n    };\n    ApolloProvider.childContextTypes = {\n        client: PropTypes.object.isRequired,\n    };\n    return ApolloProvider;\n}(Component));\nexport default ApolloProvider;\n//# sourceMappingURL=ApolloProvider.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ApolloLink, Observable, } from 'apollo-link';\nimport { print } from 'graphql/language/printer';\nvar MockLink = (function (_super) {\n    __extends(MockLink, _super);\n    function MockLink(mockedResponses) {\n        var _this = _super.call(this) || this;\n        _this.mockedResponsesByKey = {};\n        mockedResponses.forEach(function (mockedResponse) {\n            _this.addMockedResponse(mockedResponse);\n        });\n        return _this;\n    }\n    MockLink.prototype.addMockedResponse = function (mockedResponse) {\n        var key = requestToKey(mockedResponse.request);\n        var mockedResponses = this.mockedResponsesByKey[key];\n        if (!mockedResponses) {\n            mockedResponses = [];\n            this.mockedResponsesByKey[key] = mockedResponses;\n        }\n        mockedResponses.push(mockedResponse);\n    };\n    MockLink.prototype.request = function (operation) {\n        var key = requestToKey(operation);\n        var responses = this.mockedResponsesByKey[key];\n        if (!responses || responses.length === 0) {\n            throw new Error(\"No more mocked responses for the query: \" + print(operation.query) + \", variables: \" + JSON.stringify(operation.variables));\n        }\n        var original = this.mockedResponsesByKey[key].slice();\n        var _a = this.mockedResponsesByKey[key].shift() || {}, result = _a.result, error = _a.error, delay = _a.delay, newData = _a.newData;\n        if (newData) {\n            original[0].result = newData();\n            this.mockedResponsesByKey[key].push(original[0]);\n        }\n        if (!result && !error) {\n            throw new Error(\"Mocked response should contain either result or error: \" + key);\n        }\n        return new Observable(function (observer) {\n            var timer = setTimeout(function () {\n                if (error) {\n                    observer.error(error);\n                }\n                else {\n                    if (result)\n                        observer.next(result);\n                    observer.complete();\n                }\n            }, delay ? delay : 0);\n            return function () {\n                clearTimeout(timer);\n            };\n        });\n    };\n    return MockLink;\n}(ApolloLink));\nexport { MockLink };\nvar MockSubscriptionLink = (function (_super) {\n    __extends(MockSubscriptionLink, _super);\n    function MockSubscriptionLink() {\n        var _this = _super.call(this) || this;\n        _this.unsubscribers = [];\n        _this.setups = [];\n        return _this;\n    }\n    MockSubscriptionLink.prototype.request = function () {\n        var _this = this;\n        return new Observable(function (observer) {\n            _this.setups.forEach(function (x) { return x(); });\n            _this.observer = observer;\n            return function () {\n                _this.unsubscribers.forEach(function (x) { return x(); });\n            };\n        });\n    };\n    MockSubscriptionLink.prototype.simulateResult = function (result) {\n        var _this = this;\n        setTimeout(function () {\n            var observer = _this.observer;\n            if (!observer)\n                throw new Error('subscription torn down');\n            if (result.result && observer.next)\n                observer.next(result.result);\n            if (result.error && observer.error)\n                observer.error(result.error);\n        }, result.delay || 0);\n    };\n    MockSubscriptionLink.prototype.onSetup = function (listener) {\n        this.setups = this.setups.concat([listener]);\n    };\n    MockSubscriptionLink.prototype.onUnsubscribe = function (listener) {\n        this.unsubscribers = this.unsubscribers.concat([listener]);\n    };\n    return MockSubscriptionLink;\n}(ApolloLink));\nexport { MockSubscriptionLink };\nfunction requestToKey(request) {\n    var queryString = request.query && print(request.query);\n    var requestKey = {\n        variables: request.variables || {},\n        query: queryString,\n    };\n    return JSON.stringify(requestKey, Object.keys(requestKey).sort());\n}\nexport function mockSingleLink() {\n    var mockedResponses = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        mockedResponses[_i] = arguments[_i];\n    }\n    return new MockLink(mockedResponses);\n}\nexport function mockObservableLink() {\n    return new MockSubscriptionLink();\n}\n//# sourceMappingURL=test-links.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as React from 'react';\nimport ApolloClient from 'apollo-client';\nimport { InMemoryCache as Cache } from 'apollo-cache-inmemory';\nimport ApolloProvider from './ApolloProvider';\nimport { mockSingleLink } from './test-links';\nexport * from './test-links';\nvar MockedProvider = (function (_super) {\n    __extends(MockedProvider, _super);\n    function MockedProvider(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        if (_this.props.client)\n            return _this;\n        var addTypename = !_this.props.removeTypename;\n        var link = mockSingleLink.apply(null, _this.props.mocks);\n        _this.client = new ApolloClient({ link: link, cache: new Cache({ addTypename: addTypename }) });\n        return _this;\n    }\n    MockedProvider.prototype.render = function () {\n        return (React.createElement(ApolloProvider, { client: this.client || this.props.client }, this.props.children));\n    };\n    return MockedProvider;\n}(React.Component));\nexport { MockedProvider };\n//# sourceMappingURL=test-utils.js.map"],"names":["this","__extends","Children","PropTypes.element","PropTypes.object","PropTypes.func","Component","React.createElement","React.Children","print","Observable","ApolloLink","Cache","React.Component"],"mappings":"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"}